<h1>public/homes#<%= action_name %></h1>

<div class="d-flex align-items-center p-3">
  <span class="page-title">注文情報入力</span>
</div>

<div class="col-8 mx-auto">
  <%= form_with model: @order, url: confirm_path, method: :get, local: true do |f| %>
    <div class="mt-4">
      <div><strong>支払い方法</strong></div>
      <div class="col mt-2">
        <%= f.radio_button :payment_method, :credit_card, checked: true %>
        <%= f.label :payment_method, "クレジットカード", value: :credit_card %>
        <br>
        <%= f.radio_button :payment_method, :transfer %>
        <%= f.label :payment_method, "銀行振込", value: :transfer, class: "mt-3" %>
      </div>
    </div>

    <div class="mt-4">
      <div><strong>お届け先</strong></div>
      <div class="col mt-2">
        <%= f.radio_button :select_address, :my_address, checked: true %>
        <%= f.label :select_address, "ご自身の住所", value: :my_address %>
        <div class="col mt-1">
          <div>〒<%= @order.customer.postal_code.slice(0..2) %>-<%= @order.customer.postal_code.slice(3..6) %></div>
          <div><%= @order.customer.address %></div>
          <div><%= @order.customer.last_name %> <%= @order.customer.first_name %></div>
        </div>

        <% if @order.customer.addresses.present? %>
          <%= f.radio_button :select_address, :addresses %>
          <%= f.label :select_address, "登録住所先から選択", value: :addresses, class: "mt-3" %> 
          <div class="col">
            <%= f.select :address_id, options_from_collection_for_select(@order.customer.addresses, :id, :address_display), {}, class: "mt-1 w-100" %>
          </div>
        <% end %>

        <%= f.radio_button :select_address, :new_address %>
        <%= f.label :select_address, "新しいお届け先", value: :new_address, class: "mt-3" %> 
        <div class="col">
          <div class="field mt-1">
            <%= f.label :postal_code, "郵便番号（ハイフンなし）" %>
            <div class="col-7 px-0">
              <%= f.text_field :postal_code, autocomplete: true, class: "col-5 px-1" %>
            </div>
          </div>
          <div class="field mt-2">
            <%= f.label :address, "住所" %>
            <div class="col-7 px-0">
              <%= f.text_area :address, autocomplete: true, class: "col w-100 px-1" %>
            </div>
          </div>
          <div class="field mt-2">
            <%= f.label :name, "宛名" %>
            <div class="col-7 px-0">
              <%= f.text_field :name, autocomplete: true, class: "col-5 px-1" %>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-5 d-flex justify-content-center">
      <%= f.submit "確認画面へすすむ", class: "btn btn-sm btn-primary" %>
    </div>
  <% end %>
</div>

<p>Find me in app/views/public/homes/<%= action_name %>.html.erb</p>